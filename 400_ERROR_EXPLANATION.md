# –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 400 Bad Request –Ω–∞ Render

## üî¥ –ß—Ç–æ —Ç–∞–∫–æ–µ –æ—à–∏–±–∫–∞ 400?

–û—à–∏–±–∫–∞ **400 Bad Request** –≤ Django –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏ 400:

### 1. **ALLOWED_HOSTS (–°–ê–ú–ê–Ø –ß–ê–°–¢–ê–Ø –ü–†–ò–ß–ò–ù–ê)** ‚ö†Ô∏è

**–ü—Ä–æ–±–ª–µ–º–∞:** Django –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Host` –≤ HTTP-–∑–∞–ø—Ä–æ—Å–µ. –ï—Å–ª–∏ –¥–æ–º–µ–Ω –Ω–µ —É–∫–∞–∑–∞–Ω –≤ `ALLOWED_HOSTS`, Django –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –í –ª–æ–≥–∞—Ö Render –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Invalid HTTP_HOST header`
- Django –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –¥–æ–º–µ–Ω–æ–º

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –í settings.py –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
ALLOWED_HOSTS = ['who-am-i-quiz.onrender.com', '.onrender.com']
# –ò–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ RENDER_EXTERNAL_HOSTNAME
```

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `['*']` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

### 2. **DEBUG=False –±–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫** üîß

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–≥–¥–∞ `DEBUG=False`, Django —Ç—Ä–µ–±—É–µ—Ç:
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π `ALLOWED_HOSTS`
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DEBUG` –≤ Render
- –ï—Å–ª–∏ `DEBUG=False`, –Ω–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ–ø–æ–ª–Ω—ã–µ ‚Üí 400

**–†–µ—à–µ–Ω–∏–µ:**
```python
DEBUG = os.environ.get('DEBUG', 'True') == 'True'
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Render —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ DEBUG=False
```

---

### 3. **–ü—Ä–æ–±–ª–µ–º—ã —Å CSRF –ø—Ä–∏ DEBUG=False** üõ°Ô∏è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ `DEBUG=False` Django —Ç—Ä–µ–±—É–µ—Ç:
- `CSRF_COOKIE_SECURE = True` (–¥–ª—è HTTPS)
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CSRF

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ settings.py (—Å—Ç—Ä–æ–∫–∏ 77-83)

---

### 4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞** üíæ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–Ω–∞, Django –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å 400.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ build.sh –≤ Render
- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞: `Running migrations...`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –í build.sh –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
python manage.py migrate --no-input
python manage.py import_data
```

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ build.sh

---

### 5. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã** üîê

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ `SECRET_KEY` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, Django –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –í Render Dashboard ‚Üí Environment ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
  - `SECRET_KEY` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
  - `DEBUG` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `False` –¥–ª—è production

**–†–µ—à–µ–Ω–∏–µ:**
```
SECRET_KEY=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á
DEBUG=False
```

---

### 6. **–ü—Ä–æ–±–ª–µ–º—ã —Å RENDER_EXTERNAL_HOSTNAME** üåê

**–ü—Ä–æ–±–ª–µ–º–∞:** Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `RENDER_EXTERNAL_HOSTNAME`, –Ω–æ –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, `ALLOWED_HOSTS` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –í –ª–æ–≥–∞—Ö Render –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí `ALLOWED_HOSTS` –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º ‚Üí 400

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** ‚úÖ –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `RENDER_EXTERNAL_HOSTNAME` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç fallback

---

## üîç –ö–∞–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard
```
1. –ó–∞–π–¥–∏—Ç–µ –≤ Render Dashboard
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "Logs"
4. –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞:
   - "Invalid HTTP_HOST header"
   - "DisallowedHost"
   - "Bad Request (400)"
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```
–í Render Dashboard ‚Üí Environment Variables:
‚úÖ SECRET_KEY - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
‚úÖ DEBUG - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å False
‚úÖ ALLOWED_HOSTS - –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ build.sh –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
```
–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
‚úÖ "Installing dependencies..."
‚úÖ "Running migrations..."
‚úÖ "Importing quiz data..."
‚úÖ "Collecting static files..."
‚úÖ "Build completed successfully!"
```

---

## ‚úÖ –¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ –∫–æ–¥–µ:

```python
# settings.py —Å—Ç—Ä–æ–∫–∏ 29-50
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç ALLOWED_HOSTS:
1. –ò–∑ RENDER_EXTERNAL_HOSTNAME (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ò–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π ALLOWED_HOSTS (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞)
3. Fallback –Ω–∞ ['*'] –¥–ª—è production (–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏)
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–í—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ —Ö–æ—Å—Ç—ã** (`ALLOWED_HOSTS = ['*']`) –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–∫–∏
2. **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è** –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
   ```python
   ALLOWED_HOSTS = [
       'who-am-i-quiz.onrender.com',
       '.onrender.com',  # –í—Å–µ –ø–æ–¥–¥–æ–º–µ–Ω—ã Render
   ]
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Render** - —Ç–∞–º –±—É–¥–µ—Ç —Ç–æ—á–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- [ ] `SECRET_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Render
- [ ] `DEBUG=False` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Render
- [ ] `build.sh` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏)
- [ ] –î–∞–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏)
- [ ] –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å–æ–±—Ä–∞–Ω—ã (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏)
- [ ] `ALLOWED_HOSTS` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (—Ç–µ–∫—É—â–∏–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `['*']`)

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

- [Django ALLOWED_HOSTS –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.djangoproject.com/en/5.0/ref/settings/#allowed-hosts)
- [Render Django deployment guide](https://render.com/docs/deploy-django)
- [Django deployment checklist](https://docs.djangoproject.com/en/5.0/howto/deployment/checklist/)
